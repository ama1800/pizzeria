{% extends 'base.html.twig' %}

{% block title %}Menu index{% endblock %}

{% block body %}
<h1>Menu index</h1>

<table class="table table-hover">
    <thead class="table-active">
        <tr>
            <th>Id</th>
            <th>Libelle</th>
            <th>Prix</th>
            <th>contenu</th>
            <th>actions</th>
        </tr>
    </thead>
    <tbody class="table-light">
        {% for menu in menus %}
        <tr>
            <td>{{ menu.id }}</td>
            <td>{{ menu.libelle }}</td>
            <td>{{ menu.prix }}€</td>
            <td>
                <div style="display: flex;">
                    <ul class="list-group">
                        {% for produit in menu.produitsOnMenus %}
                        <a href="{{ path('produit_show', {'id': produit.produit.id}) }}">
                            <li class="list-group-item d-flex justify-content-between align-items-center">{{
                                produit.produit.produitLibelle }}
                                <span class="badge bg-primary rounded-pill">{{ produit.produit.produitPrix }}€</span>
                            </li>
                        </a>
                        <br>
                        {% endfor %}
                    </ul>
                </div>
            </td>
            <td>
                <a href="{{ path('menu_show', {'id': menu.id}) }}">show</a>
                <a href="{{ path('menu_edit', {'id': menu.id}) }}">edit</a>
                {{ include('menu/_delete_form.html.twig') }}
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="4">no records found</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{{ path('menu_new') }}">Create new</a>
{% endblock %}